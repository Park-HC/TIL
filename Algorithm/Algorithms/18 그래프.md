# 그래프

## 개요

- 아이템들과 이들 사이의 연결 관계를 표현
- 정점(Vertex)들의 집합과 이를 연결하는 간선(Edge)의 집합으로 구성된 자료 구조
- 선형 자료구조나 트리 자료구조로 표현하기 어려운 N : N 관계를 표현하기 용이



## 유형

- 무향 그래프
- 유향 그래프
- 가중치 그래프
- 사이클 없는 방향 그래프(DAG)
- 완전 그래프: 정점들에서 가능한 모든 간선들을 가진 그래프
- 부분 그래프: 원래 그래프에서 일부 정점이나 간선을 제외한 그래프



## 용어

### 인접

- 두 개의 정점에 간선이 존재하는 경우
- 완전 그래프에서 모든 정점은 인접해 있음



### 그래프 경로

- 간선들을 순서대로 나열한 것
- 한 점점을 최대 한 번만 지나는 경로를 단순경로라 부름
- 시작한 정점에서 끝나는 경로를 사이클이라 부름



## 표현

- 간선의 정보를 저장하는 방식
- 메모리나 성능을 고려하여 결정



### 인접 행렬

- V * V 크기의 2차원 배열(정방 행렬)을 이용해서 간선 정보를 저장
- 배열의 배열(포인터 배열)
- 행 번호와 열 번호는그래프의 정점에 대등
- 두 정점이 인접되어 있으면 1, 아니면 0
- 행 i는 i번째 정점에서 나가는 간선, 열 i는 i번째 정점으로 들어오는 간선
- 무향 그래프의 경우, (i, j)와 (j, i)은 동치
- 데이터 크기를 많이 차지함
  - 특히, 가능한 간선의 수에 비해 실제 간선 수가 적은 경우



### 인접 리스트

- 각 정점 마다 해당 정점에서 뻣어나가는 간선들의 목적 정점 정보를 저장
- 각 정점마다 연결 리스트 형식으로 저장
- 정점으로 들어오는 간선들의 리스트가 필요할 수 있음



### 간선의 배열

- 간선(시작 정점, 끝 정점)을 배열에 연속하여 저장



## 순회(탐색)

- 비선형 구조인 그래프로 표현된 모든 자료(정점)을 빠짐없이 탐색하는 것

- DFS, 스택 이용
- BFS, 큐 이용



# 서로소 집합(Disjoint-sets)

## 개요

- 서로 중복 포함된 원소가 없는 집합들
- 집합에 속한 하나의 특정 멤버(대표자)를 통해 각 집합들을 구분 가능



## 표현

### 연결 리스트

- 같은 집합의 원소들은 하나의 연결 리스트로 관리
- 연결 리스트의 맨 앞의 원소를 대표 원소로 지정
- 각 원소는 집합의 대표 원소를 가리키는 링크를 갖음



### 트리

- 하나의 집합을 하나의 트리로 표현
- 자식 노드가 부모 노드를 가리킴
- 루트 노드가 대표자



## 연산

- Make-Set(x): 유일한 멤버 x를 포함하는 새로운 집합 생성
- Find_Set(x): x를 포함하는 집합을 찾음
- Union(x, y): x와 y 두 집합을 통합



## 효율성

- Rank를 이용한 Union
  - 각 노드는 자신을 루트로 하는 subtree의 높이를 랭크라는 이름으로 조정
  - 두 집할 합칠 때 rank가 낮은 집합을 rank가 높은 집합에 붙임
- Path compression
  - Find-Set을 행하는 과정에서 만나는 모든 노드들이 직접 root를 가리키도록 포인터를 바꾸어 줌



# 최소 신장 트리(MST)

## 개요

- 그래프에서 최소 비용 문제
  1. 모든 정점을 연결하는 간선들의 가중치 합이 최소가 되는 트리
  2. 두 정점 사이의 최소 비용의 경로 찾기
- 신장 트리
  - n개의 정점으로 이루어진 무방향 그래프에서 n개의 정점과 n-1개 간선으로 이루어진 트리
- 최소 신장 트리
  - 무방향 가중치 그래프에서 신장 트리를 구성하는 간선들의 가중치 합이 최소인 신장 트리



## Prim 알고리즘

- 하나의 정점에서 연결된 간선들 중 하나씩 선택하면서 MST를 만들어가는 방식
  1. 임의의 정점 하나 선택
  2. 선택한 정점과 인접하는 정점들 중 최소 비용의 간선이 존재하는 정점 선택
  3. 모든 정점 선택될 때까지 1, 2 반복
- 서로소인 2개 집합 정보 유지
  - 트리 정점들 - MST를 만들기 위해 선택된 정점들
  - 비트리 정점들 - 아직 선택되지 않은 정점들



## KRUSKAL 알고리즘

- 간선을 하나씩 선택해서 MST를 찾는 알고리즘
  1. 모든 간선을 가중치에 따라 오름차순으로 정렬
  2. 가중치가 가장 낮은 간선부터 선택하면서 트리 증가시킴
     - 사이클이 생긴다면 다음으로 가중치가 낮은 간선 선택
  3. n-1개 선택할 때까지 2 반복



# 최단 경로

- 간선의 가중치가 있는 그래프에서 두 정점 사이의 경로들 중에 간선의 가중치 합이 최소인 경로
- 하나의 시작 정점에서 끝 정점까지의 최단 경로
  - 다익스트라 알고리즘
    - 음의 가중치 없음
  - 벨만 포드 알고리즘
    - 음의 가중치 가능
- 모든 정점들에 대한 최단 경로
  - 플로이드 워샬 알고리즘



## 다익스트라 알고리즘

- 시작 정점에서 거리가 최소인 정점을 선택해 나가면서 최단 경로 구함
- 탐욕 알고리즘 사용
- MST의 프림 알고리즘과 유사