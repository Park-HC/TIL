# 연결

## P2P 연결

- 대부분의 응용 프로그램은 클라이언트/서버 연결을 설정함
  - 클라이언트가 서버에 접속하고 서버가 응답함
  - 서버에 잘 알려진 안정적인 전송 주소가 있어야함
- WebRTC는 P2P 연결을 적용
  - 연결을 만드는 작업은 두 peer에게 균등하게 분배
  - WebRTC의 전송 주소(IP 및 포트)는 세션 중 변경될 수 있기에 가정할 수 없음

### 단점

- 에이전트가 직접 연결이 없는 다른 네트워크에 있을 경우 문제 발생 가능
- 직접 연결되더라도 클라이언트가 동일한 네트워크 프로토콜(UDP, TCP)나 IP 버젼(IPv4 <-> IPv6)을 사용하지 않는다면 문제 발생 가능

### 장점

- 대역폭 비용 감소
  - peer간 직접 통신이 발생하므로 미디어 릴레이를 위해 별도의 서버 호스팅할 필요 없음

- 적은 대기 시간
  - 서버를 거치지 않고 직접 소통하기에 빨라짐
- E2E 통신 보안
  - 서버를 거치지 않기에 암호가 노출될 가능성도 낮음



## ICE

- Interactive Connectivity Establishment
- 두 ICE 에이전트 간 통신을 위한 프로토콜
- 각 ICE 에이전트는 후보라 불리는 도달 가능한 방법을 게시함
  - 후보는 반대편 peer가 도달할 수 있다고 믿어지는 트랜스 포트 주소가 됨
- ICE는 최적의 후보를 짝지음



## 현실 세계의 네트워킹 제약

### 같은 네트워크에 없음

- 대부분의 경우 다른 WebRTC 에이전트는 동일한 네트워크에 있지 않음
- Public Internet을 통해 