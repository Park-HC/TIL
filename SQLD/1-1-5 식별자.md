# 식별자(Identifiers)

## 개요

- **각각의 인스턴스를 구분 가능하게 만들어주는 대표 속성**
- **식별자는 논리 데이터 모델링 단계**에서 사용
- **키는 물리 데이터 모델링 단계**에서 사용



## 주식별자

- 기본키 PK(Primay Key)에 해당하는 속성
- **하나 또는 여러 개의 속성이 주식별자가 될 수 있음**

### 도출 기준

- **해당 업무에 자주 이용되는 속성**
  - 사원번호가 주민번호보다 자주 이용되면, 사원번호를 주로 주민번호를 보조로
- 명칭, 내역 등 **이름으로 기술되는 것들은 가능하면 피함**
  - 사원번호를 주식별자로, **사원명을 보조식별자**로
- 복합 식별자일 경우, 너무 많은 속성이 포함되지 않도록 함(**최소성**)
  - 상속이 많이 되면 물리데이터베이스의 성능 저하 초래
  - **7~8개를 넘어가면 인조식별자**를 생성하는 것이 데이터 모델을 더 단순하게 만듦



## 특징

| 이름           | 설명                                                         |
| -------------- | ------------------------------------------------------------ |
| 유일성         | 주식별자는 엔티티내 모든 인스턴스들을 **유일하게 구분**      |
| 최소성(희소성) | 주식별자 구성 속성의 수는 **유일성을 만족하는 최소의 수**<br />사원번호만으로도 사원 엔티티의 인스턴스들이 구분된다면<br />사원번호 + 사원분류코드를 함께 주식별자로 쓰면 안 됨 |
| 불변성         | 한 번 특정 엔티티에 주식별자 지정되면, **그 식별자의 값은 변하지 않아야 함** |
| 존재성         | **주식별자가 지정되면 속성값이 NULL이어선 안됨**             |



## 분류

### 대표성 여부

- 주식별자(Primay Identifier)
  - 유일성, 최소성, 불변성, 존재성을 갖춘 대표 식별자
  - **다른 엔티티와 참조 관계로 연결**
- 보조식별자(Alternative Identifier)
  - **식별은 가능**하지만, 대표 식별자가 아님
  - **다른 엔티티와 참조 관계로 연결되지 않음**

### 스스로 생성되었는지 여부

- 내부 식별자(Internal Identifier)
  - 엔티티 내부에서 스스로 생성된 식별자
- 외부 식별자(Foreign Identifier)
  - 다른 엔티티에서 온 식별자
  - 다른 엔티티와 **연결고리** 역할

### 단일 속성 여부

- 단일식별자(Single Identifier)
  - 하나의 속성으로 구성된 식별자
- 복합식별자(Composite Identifier)
  - **두 개 이상의 속성으로 구성된 식별자**

### 대체 여부

- 본질 식별자
  - 원조 식별자
  - 업무 프로세스에 **존재하는 식별자**
  - 가공되지 않은 원래의 식별자
- 인조 식별자
  - 대리 식별자
  - **원조 식별자가 복잡하여 인위적으로 만든 식별자**
  - **주식별자의 속성이 2개 이상인 경우 그 속성들을 하나로 묶어**서 사용하는 식별자



## 식별자 관계, 비식별자 관계

- 외부식별자는 다른 엔티티와 관계를 통해 자식 쪽 엔티티에 생성되는 속성

### 식별자 관계

- **부모 엔티티의 식별자가 자식 엔티티의 주식별자가 되는 관계**
- **부모 엔티티가 있어야 자식 엔티티가 생성 가능**해짐
- 1:1(상속받은 속성을 유일한 주식별자로 사용) 혹은 1:m(그 외에도 있음) 관계
- 게시글과 댓글의 관계(게시글 번호란 주식별자를 상속 받음)
- **실선**으로 표현



### 비식별자 관계

- **부모 엔티티의 식별자가 자식 엔터티의 주식별자가 아닌 일반 속성**이 됨
- **부모 엔티티가 없어도 자식 엔티티 생성 가능**
- **자식 엔티티 존재하는 상태에서 부모 엔티티 삭제 가능**
  - 자식 엔터티와 부모 엔터티의 생명 주기가 다를 경우에도 사용 가능
- 주문번호 엔터티에 상품 엔터티의 주식별자(상품코드)를 주식별자로 상속받지 않은 경우
- **점선**으로 표현



- 식별자 관계만 쓰면 자손 엔터티의 주식별자가 너무 복잡해짐
- 비식별 관계만 쓰면 데이터 처리시 쓸데없이 부모 엔터티를 다시 찾아가야하는 경우 발생