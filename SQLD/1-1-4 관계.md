# 관계(Relationship)

## 개요

- 상호 연관성이 있는 상태
- 인스턴스 사이의 논리적인 연관성
- 존재, 또는 행위로서 서로에게 연관성이 부여된 상태
- 엔티티 간 연관성을 표현함
- 속성 정의 및 관계 정의에 따라 다양하게 변할 수 있음



## 페어링

- 엔티티 안에 인스턴스가 개별적으로 관계를 가지는 것
  - 강사 엔티티의 A 인스턴스가 학생 엔티티의 B, C 인스턴스와 수업한다 관계를 갖음
- 개별 인스턴스가 각각 다른 종류의 관계를 가지고 있으면, 두 엔티티 사이에 두 개 이상의 관계가 형성될 수 있음

### 관계 페어링

- 각 엔티티의 인스턴스들이 자신이 관련된 인스턴스들과 관계의 어커런스로 참여하는 형태



## 관계의 분류

### 존재 관계

- 존재 자체로 연관성이 있는 관계
  - 엄마와 아기, 직원과 부서, 학생과 학과 등

### 행위 관계

- 특정한 행위를 함으로써 연관성이 생기는 관계
  - 회원과 주문(주문한다), 학생과 출석부(출석한다), 상품과 주문상품(주문된다) 등



## 관계 표기

| 이름                      | 설명                   |
| ------------------------- | ---------------------- |
| 관계명(Membership)        | 관계의 이름            |
| 관계차수(Cardinality)     | 관계에 참여하는 수     |
| 관계선택사양(Optionality) | 필수인지 선택인지 여부 |

### 관계명

- 엔티티와 엔티티가 관계에 참여하는 형태
- 모든 관계는 2개의 관계 명을 능동적 혹은 수동적 명명으로 가짐
- 관계가 시작되는 편을 관계 시작점, 받는 편을 관계 끝점이라 부름
- 애매한 동사는 피하고(관계있다, 하다, 연관있다 등) 현재형으로 표현



### 관계차수

- 두 엔티티에서 관계에 참여하는 수를 표현하는 것

| 이름     | 설명                                                         |
| -------- | ------------------------------------------------------------ |
| 1:1 관계 | 각 엔티티는 관계를 맺는 다른 엔티티에 단지 하나의 관계만 가짐 |
| 1:M 관계 | 각 엔티티는 관계를 맺는 다른 엔티티에 하나나 그 이상의 관계를 가짐 |
| M:M 관계 | 각 엔티티의 하나나 그 이상은 다른 엔티티의 하나나 그 이상의 관계를 가짐 |



### 관계선택사양

| 이름        | 설명                                                         |
| ----------- | ------------------------------------------------------------ |
| 필수적 관계 | 참여자가 반드시 존재해야 하는 관계                           |
| 선택적 관계 | 참여자가 없을 수도 있는 관계<br />물리속성에서 foreign key로 연결될 경우 null을 허용할 수 있는 항목 |



## 관계 정의하기

### 관계 체크사항

- 두 개의 엔티티 사이에 관심있는 연관 규칙이 존재하는가
- 두 개의 엔티티 사이에 정보의 조합이 발생되는가
- 업무기술서, 장표에 관계 연결에 대한 규칙이 서술되어 있는가
- 업무기술서, 장표에 관계 연결을 가능하게 하는 동사가 있는가



### 관계 읽기

- 기준 엔티티(source)를 한 개(one) 또는 각(each으로 읽음
- 대상 엔티티(target)의 관개 참여도를 읽음
- 관계선택사양과 관계 명을 읽음